!function(i){var e={navigate:function(e,t,n,a,s){var o=a.scroll,c=1,r=0;if(s.expanded&&(o=1,c=3,r=s.idxClicked),1===e)n.find("div.ca-item:lt("+o+")").each(function(e){i(this).clone(!0).css("left",(s.totalItems-r+e)*s.itemW*c+"px").appendTo(n)});else{var d=n.children().eq(0);n.find("div.ca-item:gt("+(s.totalItems-1-o)+")").each(function(e){i(this).clone(!0).css("left",-(o-e+r)*s.itemW*c+"px").insertBefore(d)})}n.find("div.ca-item").each(function(t){var n=i(this);n.stop().animate({left:1===e?"-="+s.itemW*c*o+"px":"+="+s.itemW*c*o+"px"},a.sliderSpeed,a.sliderEasing,function(){(1===e&&n.position().left<-r*s.itemW*c||-1===e&&n.position().left>(s.totalItems-1-r)*s.itemW*c)&&n.remove(),s.isAnimating=!1})})},openItem:function(i,t,n,a){a.idxClicked=t.index(),a.winpos=e.getWinPos(t.position().left,a),i.find("div.ca-item").not(t).hide(),t.find("div.ca-content-wrapper").css("left",a.itemW+"px").stop().animate({width:2*a.itemW+"px",left:a.itemW+"px"},n.itemSpeed,n.itemEasing).end().stop().animate({left:"0px"},n.itemSpeed,n.itemEasing,function(){a.isAnimating=!1,a.expanded=!0,e.openItems(i,t,n,a)})},openItems:function(t,n,a,s){var o=n.index();t.find("div.ca-item").each(function(t){var n=i(this),a=n.index();a!==o&&(n.css("left",-(o-a)*(3*s.itemW)+"px").show().find("div.ca-content-wrapper").css({left:s.itemW+"px",width:2*s.itemW+"px"}),e.toggleMore(n,!1))})},toggleMore:function(i,e){e?i.find("a.ca-more").show():i.find("a.ca-more").hide()},closeItems:function(t,n,a,s){var o=n.index();n.find("div.ca-content-wrapper").stop().animate({width:"0px"},a.itemSpeed,a.itemEasing).end().stop().animate({left:s.itemW*(s.winpos-1)+"px"},a.itemSpeed,a.itemEasing,function(){s.isAnimating=!1,s.expanded=!1}),e.toggleMore(n,!0),t.find("div.ca-item").each(function(t){var n=i(this),a=n.index();a!==o&&(n.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",(s.winpos-1-(o-a))*s.itemW+"px").show(),e.toggleMore(n,!0))})},getWinPos:function(i,e){switch(i){case 0:return 1;case e.itemW:return 2;case 2*e.itemW:return 3}}},t={init:function(t){if(this.length){var n={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){t&&i.extend(n,t);var a=i(this),s=a.find("div.ca-wrapper"),o=s.children("div.ca-item"),c={};c.itemW=o.width(),c.totalItems=o.length,c.totalItems>3&&a.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>'),n.scroll<1?n.scroll=1:n.scroll>3&&(n.scroll=3);var r=a.find("span.ca-nav-prev"),d=a.find("span.ca-nav-next");s.css("overflow","hidden"),o.each(function(e){i(this).css({position:"absolute",left:e*c.itemW+"px"})}),a.find("a.ca-more").on("click.contentcarousel",function(t){if(c.isAnimating)return!1;c.isAnimating=!0,i(this).hide();var a=i(this).closest("div.ca-item");return e.openItem(s,a,n,c),!1}),a.find("a.ca-close").on("click.contentcarousel",function(t){if(c.isAnimating)return!1;c.isAnimating=!0;var a=i(this).closest("div.ca-item");return e.closeItems(s,a,n,c),!1}),r.bind("click.contentcarousel",function(i){if(c.isAnimating)return!1;c.isAnimating=!0,e.navigate(-1,a,s,n,c)}),d.bind("click.contentcarousel",function(i){if(c.isAnimating)return!1;c.isAnimating=!0,e.navigate(1,a,s,n,c)}),a.bind("mousewheel.contentcarousel",function(i,t){if(t>0){if(c.isAnimating)return!1;c.isAnimating=!0,e.navigate(-1,a,s,n,c)}else{if(c.isAnimating)return!1;c.isAnimating=!0,e.navigate(1,a,s,n,c)}return!1})})}}};i.fn.contentcarousel=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void i.error("Method "+e+" does not exist on jQuery.contentcarousel"):t.init.apply(this,arguments)}}(jQuery);